<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kleist-Deutungsrad Prototyp</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: #f5f5f0;
            padding: 20px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
            text-align: center;
            max-width: 700px;
            line-height: 1.6;
        }
        
        .container {
            position: relative;
            width: 700px;
            height: 700px;
        }
        
        /* Untere Scheibe - DREHBAR, GRÖSSER - nur für Jahreszahlen */
        .bottom-disc {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transition: transform 0.5s ease;
            cursor: grab;
            background: #e8e8e0;
            border: 3px solid #999;
        }
        
        .bottom-disc:active {
            cursor: grabbing;
        }
        
        /* Segmente auf der unteren Scheibe - NUR für Jahreszahlen */
        .segment {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }
        
        /* Jahreszahl am äußeren Rand */
        .year-label {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            font-size: 15px;
            color: white;
            background: #d4a574;
            padding: 6px 14px;
            border-radius: 20px;
            white-space: nowrap;
            border: 2px solid #8b6914;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        /* Feste Textboxen - drehen sich NICHT mit */
        .fixed-content {
            position: absolute;
            top: 65px;
            left: 65px;
            width: 570px;
            height: 570px;
            pointer-events: none;
            z-index: 5;
        }
        
        /* Schlagwort Box - FEST */
        .keyword-box {
            position: absolute;
            top: 45px;
            left: 50%;
            transform: translateX(-50%);
            width: 254px;
            height: 52px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
            border: 2px solid #c0392b;
        }
        
        .keyword-box .keyword {
            font-weight: bold;
            font-size: 17px;
            color: #c0392b;
            line-height: 1.3;
            padding: 8px;
        }
        
        /* Zitat Box - FEST */
        .quote-box {
            position: absolute;
            top: 145px;
            left: 50%;
            transform: translateX(-50%);
            width: 284px;
            height: 89px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: #fff9e6;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
            border: 2px solid #d4a574;
        }
        
        .quote-box .quote-text {
            font-size: 13px;
            font-style: italic;
            color: #2c3e50;
            line-height: 1.6;
            padding: 10px;
        }
        
        /* Zuschreibung Box - FEST */
        .attribution-box {
            position: absolute;
            top: 285px;
            left: 50%;
            transform: translateX(-50%);
            width: 304px;
            height: 169px;
            display: flex;
            align-items: flex-start;
            text-align: left;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
            border: 2px solid #34495e;
            overflow-y: auto;
        }
        
        .attribution-box .attribution-text {
            font-size: 11.5px;
            color: #2c3e50;
            line-height: 1.5;
            padding: 12px;
        }
        
        /* Obere Scheibe - als SVG mit echten Ausschnitten */
        .top-disc-container {
            position: absolute;
            width: 570px;
            height: 570px;
            top: 65px;
            left: 65px;
            pointer-events: none;
            z-index: 10;
        }
        
        .top-disc-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 6px 16px rgba(0,0,0,0.4));
        }
        
        /* Window labels */
        .window-labels {
            position: absolute;
            top: 65px;
            left: 65px;
            width: 570px;
            height: 570px;
            pointer-events: none;
            z-index: 11;
        }
        
        .window-label {
            position: absolute;
            background: #1a2a3a;
            color: white;
            padding: 5px 14px;
            border-radius: 14px;
            font-size: 11px;
            font-weight: bold;
            white-space: nowrap;
            letter-spacing: 0.5px;
        }
        
        .label-keyword {
            top: 17px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .label-quote {
            top: 117px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .label-attribution {
            top: 257px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Controls */
        .controls {
            margin-top: 30px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        button {
            padding: 12px 24px;
            font-size: 15px;
            background: #2c3e50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: background 0.2s;
        }
        
        button:hover {
            background: #34495e;
        }
        
        .current-segment {
            font-size: 14px;
            color: #2c3e50;
            font-weight: bold;
            width: 100%;
            text-align: center;
            margin-top: 10px;
        }
        
        .instructions {
            margin-top: 20px;
            text-align: center;
            color: #7f8c8d;
            font-size: 13px;
            max-width: 700px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <h1>Mythos Kleist – Deutungsrad</h1>
    <p class="subtitle">Jede Epoche vereinnahmte Kleist anders und wählte die passenden Zitate aus dem „Prinz Friedrich von Homburg". Drehen Sie die untere Scheibe, um zu sehen, wie dieselben Worte völlig unterschiedlich gedeutet wurden.</p>
    
    <div class="container">
        <!-- Untere Scheibe - NUR Jahreszahlen -->
        <div class="bottom-disc" id="bottomDisc">
            <!-- Segment 1 -->
            <div class="segment" style="transform: rotate(0deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(0deg);">1871-1918</div>
            </div>
            <!-- Segment 2 -->
            <div class="segment" style="transform: rotate(60deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(-60deg);">Um 1900</div>
            </div>
            <!-- Segment 3 -->
            <div class="segment" style="transform: rotate(120deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(-120deg);">1920er Jahre</div>
            </div>
            <!-- Segment 4 -->
            <div class="segment" style="transform: rotate(180deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(-180deg);">Nach 1945</div>
            </div>
            <!-- Segment 5 -->
            <div class="segment" style="transform: rotate(240deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(-240deg);">1970er-80er</div>
            </div>
            <!-- Segment 6 -->
            <div class="segment" style="transform: rotate(300deg);">
                <div class="year-label" style="transform: translateX(-50%) rotate(-300deg);">Heute</div>
            </div>
        </div>
        
        <!-- Feste Textboxen (Content ändert sich per JS) -->
        <div class="fixed-content">
            <div class="keyword-box">
                <div class="keyword" id="keywordText">Der Preuße / Patriot</div>
            </div>
            
            <div class="quote-box">
                <div class="quote-text" id="quoteText">„In Staub mit allen Feinden Brandenburgs!"</div>
            </div>
            
            <div class="attribution-box">
                <div class="attribution-text" id="attributionText">Nach der Reichsgründung vereinnahmten Nationalisten Kleist als preußischen Helden. Der „Prinz von Homburg" galt als Drama über Vaterlandstreue und den Kampf gegen Preußens Feinde. Dass der Prinz eigentlich gegen Befehle verstößt, wurde ausgeblendet.</div>
            </div>
        </div>
        
        <!-- Obere Scheibe als SVG mit Maske für ausgeschnittene Fenster -->
        <div class="top-disc-container">
            <svg class="top-disc-svg" viewBox="0 0 570 570">
                <defs>
                    <mask id="disc-mask">
                        <!-- White = visible, Black = transparent -->
                        <!-- Start with white circle -->
                        <circle cx="285" cy="285" r="285" fill="white"/>
                        <!-- Subtract three black rectangles for windows -->
                        <rect x="155" y="45" width="260" height="58" rx="10" fill="black"/>
                        <rect x="140" y="145" width="290" height="95" rx="10" fill="black"/>
                        <rect x="130" y="285" width="310" height="175" rx="10" fill="black"/>
                    </mask>
                </defs>
                
                <!-- Circle with border -->
                <circle cx="285" cy="285" r="280" 
                        fill="#2c3e50" 
                        stroke="#1a2a3a" 
                        stroke-width="5"
                        mask="url(#disc-mask)"/>
            </svg>
        </div>
        
        <!-- Window Labels -->
        <div class="window-labels">
            <div class="window-label label-keyword">SCHLAGWORT</div>
            <div class="window-label label-quote">KLEIST-ZITAT</div>
            <div class="window-label label-attribution">ZUSCHREIBUNG</div>
        </div>
    </div>
    
    <div class="controls">
        <button onclick="rotatePrev()">← Vorherige Epoche</button>
        <span class="current-segment" id="currentSegment">1871-1918: Der Preuße / Patriot</span>
        <button onclick="rotateNext()">Nächste Epoche →</button>
    </div>
    
    <p class="instructions">
        Drehen Sie die untere (helle) Scheibe mit der Maus oder verwenden Sie die Buttons. Die Jahreszahlen am Rand zeigen, welche Epoche gerade sichtbar ist. Die Inhalte in den drei Fenstern ändern sich entsprechend.
    </p>
    
    <script>
        var bottomDisc = document.getElementById('bottomDisc');
        var currentSegmentDisplay = document.getElementById('currentSegment');
        var keywordText = document.getElementById('keywordText');
        var quoteText = document.getElementById('quoteText');
        var attributionText = document.getElementById('attributionText');
        
        var segments = [
            {
                angle: 0,
                period: '1871-1918',
                keyword: 'Der Preuße',
                quote: '„In Staub mit allen Feinden Brandenburgs!"',
                attribution: 'Nach der Reichsgründung 1871 wurde Kleist als preußischer Dichter vereinahmt. Der „Prinz von Homburg" galt als Drama über Vaterlandstreue und den Kampf gegen Preußens Feinde. Dass der Prinz eigentlich gegen Befehle verstößt, wurde ausgeblendet.'
            },
            {
                angle: 60,
                period: 'Um 1900',
                keyword: 'Der Traditionsbrecher',
                quote: '„Auf Ordr'? [...] Hast du sie noch vom Herzen nicht empfangen?"',
                attribution: 'Die literarische Avantgarde um 1900 feierte Kleist als Rebellen gegen klassische Normen. Der Prinz von Homburg wurde zum Vorbild für alle, die gegen starre Regeln aufbegehren."'
            },
            {
                angle: 120,
                period: '1920er Jahre',
                keyword: 'Der pathologische Fall',
                quote: '„Der junge Mann ist krank, so wahr ich lebe."',
                attribution: 'Psychiater deuteten Kleists Werk als Ausdruck psychischer Krankheit. Der Prinz von Homburg erschien als zerrissene, irrationale Figur als ein Spiegelbild von Kleists angeblichem Wahnsinn. Diese Lesart prägte lange das Kleist-Bild.'
            },
            {
                angle: 180,
                period: 'Nach 1945',
                keyword: 'Der Sprachkünstler',
                quote: '„Was gilt [...] das Gesetz? [...] das heilge Kriegsrecht der Natur [...] Die Pflicht"',
                attribution: 'Nach dem Zweiten Weltkrieg rückte die ästhetische Qualität in den Vordergrund. Kleists sprachliche Kunstfertigkeit, seine rhetorischen Strukturen und seine innovative Dramaturgie wurden bewundert – unabhängig von politischen Deutungen.'
            },
            {
                angle: 240,
                period: '1970er-80er',
                keyword: 'Der Skeptiker',
                quote: '„Was gilt auf dieser Welt mir das Gesetz?"',
                attribution: 'Der Poststrukturalismus las Kleist als Kritiker aller Gewissheiten. Der Prinz von Homburg dekonstruierte Begriffe wie Pflicht, Gesetz und Ordnung. Kleist wurde zum Vordenker der Skepsis gegenüber großen Erzählungen.'
            },
            {
                angle: 300,
                period: 'Heute',
                keyword: 'Der Vielschichtige',
                quote: '„Die Pflicht will ich erfüllt sehn, die ich fühle!"',
                attribution: 'Aktuelle Forschung liest Kleist aus vielen Perspektiven: Gender Studies, Postkolonialismus, Medientheorie. Der Prinz von Homburg wird nicht mehr auf eine Deutung festgelegt, sondern als vielschichtiger Text verstanden.'
            }
        ];
        
        var currentRotation = 0;
        var currentSegmentIndex = 0;
        var isDragging = false;
        var startAngle = 0;
        var currentAngle = 0;
        
        function updateDisplay() {
            bottomDisc.style.transform = 'rotate(' + currentRotation + 'deg)';
            var seg = segments[currentSegmentIndex];
            currentSegmentDisplay.textContent = seg.period + ': ' + seg.keyword;
            keywordText.textContent = seg.keyword;
            quoteText.textContent = seg.quote;
            attributionText.textContent = seg.attribution;
            
            // Update year label rotations to keep them upright
            updateYearLabels();
        }
        
        function updateYearLabels() {
            var segments = document.querySelectorAll('.segment');
            var baseRotations = [0, 60, 120, 180, 240, 300]; // Base rotation of each segment
            
            for (var i = 0; i < segments.length; i++) {
                var yearLabel = segments[i].querySelector('.year-label');
                if (yearLabel) {
                    // Counter-rotate: negate both the base segment rotation AND the current disc rotation
                    var totalCounterRotation = -(baseRotations[i] + currentRotation);
                    yearLabel.style.transform = 'translateX(-50%) rotate(' + totalCounterRotation + 'deg)';
                }
            }
        }
        
        function rotateNext() {
            currentSegmentIndex = (currentSegmentIndex + 1) % segments.length;
            currentRotation = -segments[currentSegmentIndex].angle;
            updateDisplay();
        }
        
        function rotatePrev() {
            currentSegmentIndex = (currentSegmentIndex - 1 + segments.length) % segments.length;
            currentRotation = -segments[currentSegmentIndex].angle;
            updateDisplay();
        }
        
        // Mouse/Touch dragging
        function getAngle(e) {
            var rect = bottomDisc.getBoundingClientRect();
            var centerX = rect.left + rect.width / 2;
            var centerY = rect.top + rect.height / 2;
            var x = (e.clientX || e.touches[0].clientX) - centerX;
            var y = (e.clientY || e.touches[0].clientY) - centerY;
            return Math.atan2(y, x) * 180 / Math.PI;
        }
        
        bottomDisc.addEventListener('mousedown', function(e) {
            isDragging = true;
            startAngle = getAngle(e) - currentRotation;
        });
        
        bottomDisc.addEventListener('touchstart', function(e) {
            isDragging = true;
            startAngle = getAngle(e) - currentRotation;
        });
        
        document.addEventListener('mousemove', function(e) {
            if (!isDragging) return;
            currentAngle = getAngle(e) - startAngle;
            currentRotation = currentAngle;
            bottomDisc.style.transform = 'rotate(' + currentRotation + 'deg)';
            updateYearLabels();
            
            // Find closest segment
            var normalizedAngle = ((-currentRotation % 360) + 360) % 360;
            var closestIndex = 0;
            var minDiff = 360;
            for (var i = 0; i < segments.length; i++) {
                var diff = Math.abs(normalizedAngle - segments[i].angle);
                if (diff < minDiff) {
                    minDiff = diff;
                    closestIndex = i;
                }
            }
            currentSegmentIndex = closestIndex;
            var seg = segments[currentSegmentIndex];
            currentSegmentDisplay.textContent = seg.period + ': ' + seg.keyword;
            keywordText.textContent = seg.keyword;
            quoteText.textContent = seg.quote;
            attributionText.textContent = seg.attribution;
        });
        
        document.addEventListener('touchmove', function(e) {
            if (!isDragging) return;
            currentAngle = getAngle(e) - startAngle;
            currentRotation = currentAngle;
            bottomDisc.style.transform = 'rotate(' + currentRotation + 'deg)';
            updateYearLabels();
            
            var normalizedAngle = ((-currentRotation % 360) + 360) % 360;
            var closestIndex = 0;
            var minDiff = 360;
            for (var i = 0; i < segments.length; i++) {
                var diff = Math.abs(normalizedAngle - segments[i].angle);
                if (diff < minDiff) {
                    minDiff = diff;
                    closestIndex = i;
                }
            }
            currentSegmentIndex = closestIndex;
            var seg = segments[currentSegmentIndex];
            currentSegmentDisplay.textContent = seg.period + ': ' + seg.keyword;
            keywordText.textContent = seg.keyword;
            quoteText.textContent = seg.quote;
            attributionText.textContent = seg.attribution;
        });
        
        document.addEventListener('mouseup', function() {
            if (isDragging) {
                isDragging = false;
                // Snap to nearest segment
                currentRotation = -segments[currentSegmentIndex].angle;
                updateDisplay();
            }
        });
        
        document.addEventListener('touchend', function() {
            if (isDragging) {
                isDragging = false;
                currentRotation = -segments[currentSegmentIndex].angle;
                updateDisplay();
            }
        });
        
        // Initialize
        updateDisplay();
    </script>
</body>

</html>
